{"version":3,"file":"static/js/641.1e819065.chunk.js","mappings":"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","sources":["components/ResultSlider/ResultSlider.jsx","components/Pagination/Pagination.jsx","pages/ResultPage/Result.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { Loader } from \"../loader/Loader\";\r\n\r\nimport \"./resultSlider.scss\";\r\nimport arrowLeft from \"../carousel/items/arrow-left.png\";\r\nimport arrowRight from \"../carousel/items/arrow-right.png\";\r\n\r\nconst ResultSlider = (props) => {\r\n    const {totalDocs, riskFactors, setTotalDocs, setRiskFactors} = props;\r\n    const myTotalDocs = JSON.parse(localStorage.getItem('totalDocs'));\r\n    const myRiskFactors = JSON.parse(localStorage.getItem('riskFactors'));\r\n\r\n    useEffect(() => {\r\n        if(myTotalDocs !== null) {\r\n            setTotalDocs(myTotalDocs);\r\n        } else {\r\n          setTotalDocs();\r\n        }\r\n    },[myTotalDocs, setTotalDocs]);\r\n\r\n    useEffect(() => {\r\n        if(myRiskFactors !== null) {\r\n            setRiskFactors(myRiskFactors);\r\n        } else {\r\n          setRiskFactors();\r\n        }\r\n    },[myRiskFactors, setRiskFactors]);\r\n        \r\n    // Слайдер\r\n    const slider = useRef(null);\r\n    let position = 0;\r\n\r\n    const prevHandler = () => {\r\n        position += 150\r\n        slider.current.childNodes.forEach((element) => {\r\n            element.style = `transform: translateX(${position}px)`\r\n        })\r\n    }\r\n\r\n    const nextHandler = () => {\r\n        position -= 150\r\n        slider.current.childNodes.forEach((element) => {\r\n            element.style = `transform: translateX(${position}px)`\r\n        })\r\n    }\r\n\r\n\r\n    if (myTotalDocs !== null) {\r\n    return(\r\n            <div className=\"slider_section\">\r\n                <button onClick={prevHandler} className=\"slider_section_button\"><img src={arrowLeft} alt=\"\"/></button>\r\n                <div className=\"slider_container\">\r\n                    <div className=\"slider_container_info\">\r\n                        <span className=\"slider_container_info_text\">Период</span>\r\n                        <span className=\"slider_container_info_text\">Всего</span>\r\n                        <span className=\"slider_container_info_text\">Риски</span>\r\n                    </div>\r\n                    <div ref={slider} className=\"slider_wrapper\">\r\n                        {totalDocs.map((element, id) => {\r\n                            return(\r\n                                <div className=\"slider_res_content\" key={id}>\r\n                                    <div className=\"slider_res_content_text\">{element.date.substr(0, 10)}</div>\r\n                                    <div className=\"slider_res_content_text\">{element.value}</div>\r\n                                    <div className=\"slider_res_content_text\">{riskFactors[id].value}</div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <button onClick={nextHandler} className=\"slider_section_button\"><img src={arrowRight} alt=\"\"/></button>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"slider_section\">\r\n            <button className=\"slider_section_button\"><img src={arrowLeft} alt=\"\"/></button>\r\n            <div className=\"slider_container\">\r\n                <div className=\"slider_container_info\">\r\n                    <span className=\"slider_container_info_text\">Период</span>\r\n                    <span className=\"slider_container_info_text\">Всего</span>\r\n                    <span className=\"slider_container_info_text\">Риски</span>\r\n                </div>\r\n                <div className=\"loader_wrapper\">\r\n                    <Loader /> <h2 className=\"slider_loader_text\">Загружаем данные...</h2>\r\n                </div>\r\n            </div>\r\n            <button className=\"slider_section_button\"><img src={arrowRight} alt=\"\"/></button>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ResultSlider;","import React, { useState } from \"react\";\r\nimport \"./pagination.scss\";\r\n\r\n\r\nconst Pagination = (props) => {\r\n    const { documentsPerPage, totalDocuments, paginate} = props;\r\n    const pageNumbers = [];\r\n\r\n    for (let i = 1; i <= Math.ceil(totalDocuments / documentsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n\r\n    const [isScrolling, setIsScrolling] = useState(false);\r\n\r\n    const handleScroll = () => {\r\n        if(!isScrolling) {\r\n            window.scrollTo(0, 0);\r\n            setIsScrolling(true);\r\n        } else {\r\n            window.scrollTo(0, 0);\r\n            setIsScrolling(false);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"pagination\">\r\n            {\r\n                pageNumbers.map((number) => (\r\n                    <div className=\"pagination_item\" key={number}>\r\n                        <button \r\n                            className=\"pagination_btn\"\r\n                            onClick={() => {\r\n                                handleScroll();\r\n                                paginate(number);\r\n                            }} \r\n                        >\r\n                            {number}\r\n                        </button>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import React, { useState, useEffect, lazy, Suspense } from \"react\";\r\nimport \"./result.scss\";\r\nimport resultImage from \"../../assets/images/result-image-hero.png\";\r\nimport ResultSlider from \"../../components/ResultSlider/ResultSlider\";\r\nimport { Loader } from \"../../components/loader/Loader\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\n\r\nconst ResultsDocuments = lazy(() => import('../../components/ResultsDocuments/ResultsDocuments'));\r\n\r\n\r\nconst Result = (props) => {\r\n    const {totalDocs, riskFactors, documents, setTotalDocs, setRiskFactors, setDocuments} = props;\r\n    const docsInStorage = JSON.parse(localStorage.getItem('documents'));\r\n\r\n    useEffect(() => {\r\n        if(docsInStorage) {\r\n            setDocuments(docsInStorage);\r\n        }\r\n    }, [setDocuments, docsInStorage]);\r\n\r\n    \r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [documentsPerPage] = useState(10);\r\n\r\n    const lastDocIndex = currentPage * documentsPerPage;\r\n    const firstDocIndex = lastDocIndex - documentsPerPage;\r\n    const currentDoc = documents.slice(firstDocIndex, lastDocIndex);\r\n\r\n    const paginate = pageNumber => setCurrentPage(pageNumber);\r\n\r\n    return(\r\n        <>\r\n            <div className=\"container\">\r\n\r\n                <div className=\"result_header\">\r\n                    <div className=\"result_header_text\">\r\n                        <h1 className=\"title result_title\">Ищем. Скоро будут результаты</h1>\r\n                        <p className=\"result_subtitle\">Поиск может занять некоторое время, просим сохранять терпение.</p>\r\n                    </div>\r\n                    <div className=\"result_hero_img\">\r\n                        <img className=\"result_img\" src={resultImage} alt=\"img\"/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"result_main\">\r\n                    <div className=\"title list_title\">Общая сводка</div>\r\n                    <span className=\"list_subtitle\">Найдено  {docsInStorage !== null ? documents.length : \"\"} вариантов</span>\r\n\r\n                    <div className=\"result_data_slider\">\r\n                        <ResultSlider totalDocs={totalDocs} riskFactors={riskFactors} setTotalDocs={setTotalDocs} setRiskFactors={setRiskFactors} />\r\n                    </div>\r\n\r\n                    <h1 className=\"title list_title\">Список документов</h1>\r\n                    {docsInStorage || documents.length > 0 ? \r\n                        <>\r\n                        <div className=\"documents_results_container\">\r\n                            <Suspense fallback={<div className=\"lazy_container\"><Loader /></div>}>\r\n                                <ResultsDocuments documents={currentDoc} />\r\n                            </Suspense>\r\n                        </div>\r\n                        <Pagination documentsPerPage={documentsPerPage} totalDocuments={documents.length} paginate={paginate} />\r\n                        </>\r\n                    :   \r\n                        <div className=\"documents_none_results_container\">\r\n                            <Loader />\r\n                            <h2 className=\"title documents_none_results_title\">Загружаю данные ...</h2>\r\n                        </div>\r\n                    }\r\n                     \r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Result;"],"names":["props","totalDocs","riskFactors","setTotalDocs","setRiskFactors","myTotalDocs","JSON","parse","localStorage","getItem","myRiskFactors","useEffect","slider","useRef","position","_jsxs","className","children","_jsx","onClick","current","childNodes","forEach","element","style","concat","src","arrowLeft","alt","ref","map","id","date","substr","value","arrowRight","Loader","documentsPerPage","totalDocuments","paginate","pageNumbers","i","Math","ceil","push","_useState","useState","_useState2","_slicedToArray","isScrolling","setIsScrolling","number","window","scrollTo","ResultsDocuments","lazy","documents","setDocuments","docsInStorage","currentPage","setCurrentPage","_useState3","lastDocIndex","firstDocIndex","currentDoc","slice","_Fragment","resultImage","length","ResultSlider","Suspense","fallback","Pagination","pageNumber"],"sourceRoot":""}